<textarea autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" id="mdx" onkeyup="checkRef()">
</textarea>



<br>
<select id="Check">
  <option value="0">Data</option>
  <option value="1">Dimension</option>
</select>

<select id="dimension">
  {% for thing in dims %}
    <option value={{ thing }}>{{ thing }}</option>
  {% endfor %}
</select>

<div id="reponse">
</div>

<script>
  function checkRef(){

    if (document.getElementById("Check").value == 0){
      liveMdxRefresh()
    }
    else{

    }
  }

  function liveMdxRefresh() {
    console.log("Running liveMdxRefresh");
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        console.log(this.responseText);
        document.getElementById("reponse").innerHTML = this.responseText;
      }
    };
    xhttp.open(
      "GET",
      "http://127.0.0.1:5000//liveMdx/refreshMDX?mdx=" +
        document.getElementById("mdx").value,
      true
    );
    xhttp.send();
  }
</script>
